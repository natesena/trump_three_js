<html>
	<head>
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
        
        <script src="js/three.min.js"></script>
        <script src="js/objVertexColors.js"></script>
        <script src="js/trackballControl.js"></script>
		<script>
            var scene = new THREE.Scene();
            scene.background = new THREE.Color( 0xffffff );
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );
            var light = new THREE.PointLight( 0xff00ff, 1, 100 );
            light.position.set( 0, 10, 0 );
            
            scene.add( light );

            var objects = [];
            
            var renderer = new THREE.WebGLRenderer();
            
            controls = new THREE.TrackballControls(camera);
            controls.rotateSpeed = 4.0;
            controls.zoomSpeed = 2;
            controls.panSpeed = 0.8;
            controls.noZoom = false;
            controls.noPan = false;
            controls.staticMoving = true;
            controls.dynamicDampingFactor = 0.3;
            
            renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );

            var manager = new THREE.LoadingManager();
            manager.onProgress = function (item, loaded, total) {
                console.log(item, loaded, total);
            };

            var onProgress = function (xhr) {
                if (xhr.lengthComputable) {
                    var percentComplete = xhr.loaded / xhr.total * 100;
                    console.log(Math.round(percentComplete, 2) + '% downloaded');
                }
            };

            var onError = function (xhr) {
            };


            
            
            var loader = new THREE.OBJVertexColorLoader(manager);
            loader.load('models/Trump2.obj', function (object) {
                object.traverse(function(node){
                    if(node.material){
                        node.material.side = THREE.DoubleSide;
                    }
                })
                window.trump = object;
                object.rotation.x = Math.PI;
                object.rotation.y = Math.PI;
                console.dir(object);
                scene.add(object);
                
            }, onProgress, onError);
            var light = new THREE.PointLight( 0xffff00, 1, 100 );
            light.position.set( 50, 50, 50 );
            scene.add( light );

			

			camera.position.z = 5;

			var animate = function () {
				requestAnimationFrame( animate );
                controls.update();
				renderer.render(scene, camera);
			};

			animate();
		</script>
	</body>
</html>